<div id="@accordionId" class="accordion">
    @foreach (var category in Categories)
    {
        <CategoryAccordionItem @key="category.Id" 
            Category="category" 
            ParentId="@accordionId" 
            OnChange="OnChange"
            OnDelete="OnDelete" 
        />
    }
</div>

@code {
    [Parameter, EditorRequired]
    public IEnumerable<CategoryDTO> Categories { get; set; } = [];

    // Type sent during callback is CategoryDTO
    [Parameter, EditorRequired]
    public EventCallback<CategoryDTO> OnChange { get; set; }

    [Parameter, EditorRequired]
    public EventCallback<int> OnDelete { get; set; }

    private string accordionId = Guid.NewGuid().ToString();
}
